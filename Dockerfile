FROM ansibleplaybookbundle/apb-base
MAINTAINER Ansible Playbook Bundle Community

RUN yum -y install python-boto3 && yum clean all

COPY roles /opt/ansible/roles
COPY playbooks /opt/apb/actions

LABEL "com.redhat.apb.version"="0.1.0"
LABEL "com.redhat.apb.spec"=\
"bmFtZTogZHluYW1vZGItYXBiCmltYWdlOiBhbnNpYmxlcGxheWJvb2tidW5kbGUvZHluYW1vZGIt\
YXBiCmRlc2NyaXB0aW9uOiAnRHluYW1vREIgVGFibGUnCnRhZ3M6CiAgLSBhbWF6b24KICAtIGR5\
bmFtb2RiCmJpbmRhYmxlOiB0cnVlCmFzeW5jOiBvcHRpb25hbAptZXRhZGF0YToKICBkaXNwbGF5\
TmFtZTogIkFtYXpvbiBEeW5hbW9EQiIKICBsb25nRGVzY3JpcHRpb246ICJBbWF6b24gRHluYW1v\
REIgaXMgYSBmdWxseSBtYW5hZ2VkIE5vU1FMIGRhdGFiYXNlIHNlcnZpY2UgdGhhdCBwcm92aWRl\
cyBmYXN0IGFuZCBwcmVkaWN0YWJsZSBwZXJmb3JtYW5jZSB3aXRoIHNlYW1sZXNzIHNjYWxhYmls\
aXR5LiBZb3UgY2FuIHVzZSBBbWF6b24gRHluYW1vREIgdG8gY3JlYXRlIGEgZGF0YWJhc2UgdGFi\
bGUgdGhhdCBjYW4gc3RvcmUgYW5kIHJldHJpZXZlIGFueSBhbW91bnQgb2YgZGF0YSwgYW5kIHNl\
cnZlIGFueSBsZXZlbCBvZiByZXF1ZXN0IHRyYWZmaWMuIEFtYXpvbiBEeW5hbW9EQiBhdXRvbWF0\
aWNhbGx5IHNwcmVhZHMgdGhlIGRhdGEgYW5kIHRyYWZmaWMgZm9yIHRoZSB0YWJsZSBvdmVyIGEg\
c3VmZmljaWVudCBudW1iZXIgb2Ygc2VydmVycyB0byBoYW5kbGUgdGhlIHJlcXVlc3QgY2FwYWNp\
dHkgc3BlY2lmaWVkIGJ5IHRoZSBjdXN0b21lciBhbmQgdGhlIGFtb3VudCBvZiBkYXRhIHN0b3Jl\
ZCwgd2hpbGUgbWFpbnRhaW5pbmcgY29uc2lzdGVudCBhbmQgZmFzdCBwZXJmb3JtYW5jZS4iCiAg\
aW1hZ2VVcmw6ICJodHRwczovL3MzLmFtYXpvbmF3cy5jb20vdGhwLWF3cy1pY29ucy1kZXYvRGF0\
YWJhc2VfQW1hem9uRHluYW1vREJfTEFSR0UucG5nIgogIGRvY3VtZW50YXRpb25Vcmw6IGh0dHBz\
Oi8vYXdzLmFtYXpvbi5jb20vZG9jdW1lbnRhdGlvbi9keW5hbW9kYi8KcGxhbnM6CiAgLSBuYW1l\
OiBkZWZhdWx0CiAgICBkZXNjcmlwdGlvbjogJ0R5bmFtb0RCIFRhYmxlJwogICAgZnJlZTogZmFs\
c2UKICAgIHBhcmFtZXRlcnM6CiAgICAgIC0gbmFtZTogc3RhY2tfaWRlbnRpZmllcgogICAgICAg\
IHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IFVuaXF1ZSBTdGFjayBJZGVudGlmaWVyCiAg\
ICAgICAgZGVzY3JpcHRpb246ICdVbmlxdWUgaWRlbnRpZmllciB0byBiZSBpbmNsdWRlZCBpbiB0\
aGUgQ2xvdWRGb3JtYXRpb24gU3RhY2sgTmFtZSB0byBwcmV2ZW50IG5hbWluZyBjb2xsaXNpb25z\
LiBNdXN0IG9ubHkgY29udGFpbiBhbHBoYW51bWVyaWMgY2hhcmFjdGVycyBhbmQgaHlwaGVucy4g\
KGUuZy4gInNhbXBsZS1keW5hbW9kYi1zdGFjayIsICJwcm9kdWN0aW9uLWR5bmFtb2RiLTA5LTIw\
MTciKScKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiBhd3NfYWNjZXNzX2tleQog\
ICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFXUyBBY2Nlc3MgS2V5CiAgICAg\
ICAgZGVzY3JpcHRpb246ICdBV1MgQWNjZXNzIEtleSB0byBhdXRoZW50aWNhdGUgdG8gQVdTIHdp\
dGguJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IGF3c19zZWNyZXRfa2V5CiAg\
ICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogQVdTIFNlY3JldCBLZXkKICAgICAg\
ICBkZXNjcmlwdGlvbjogJ0FXUyBTZWNyZXQgS2V5IHRvIGF1dGhlbnRpY2F0ZSB0byBBV1Mgd2l0\
aC4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogcmVnaW9uCiAgICAgICAgcmVx\
dWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogQVdTIFJlZ2lvbgogICAgICAgIGRlc2NyaXB0aW9u\
OiAnQVdTIFJlZ2lvbiB0byBjcmVhdGUgdGhlIGJ1Y2tldCBpbi4nCiAgICAgICAgdHlwZTogZW51\
bQogICAgICAgIGVudW06CiAgICAgICAgICAtIGFwLW5vcnRoZWFzdC0xCiAgICAgICAgICAtIGFw\
LW5vcnRoZWFzdC0yCiAgICAgICAgICAtIGFwLXNvdXRoLTEKICAgICAgICAgIC0gYXAtc291dGhl\
YXN0LTEKICAgICAgICAgIC0gYXAtc291dGhlYXN0LTIKICAgICAgICAgIC0gY2EtY2VudHJhbC0x\
CiAgICAgICAgICAtIGV1LWNlbnRyYWwtMQogICAgICAgICAgLSBldS13ZXN0LTEKICAgICAgICAg\
IC0gZXUtd2VzdC0yCiAgICAgICAgICAtIHNhLWVhc3QtMQogICAgICAgICAgLSB1cy1lYXN0LTEK\
ICAgICAgICAgIC0gdXMtZWFzdC0yCiAgICAgICAgICAtIHVzLXdlc3QtMQogICAgICAgICAgLSB1\
cy13ZXN0LTIKICAgICAgICBkZWZhdWx0OiAidXMtd2VzdC0yIgogICAgICAtIG5hbWU6IEFwcGxp\
Y2F0aW9uTmFtZQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFwcGxpY2F0\
aW9uIE5hbWUKICAgICAgICBkZXNjcmlwdGlvbjogJ1RoaXMgd2lsbCBiZSBzZXQgYXMgdGhlIHZh\
bHVlIGZvciB0aGUgXCJBUFBMSUNBVElPTl9OQU1FXCIgdGFnIG9uIGFsbCBzdXBwb3J0ZWQgcmVz\
b3VyY2VzJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IEhhc2hBdHRyaWJ1dGVO\
YW1lCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogSGFzaCBBdHRyaWJ1dGUg\
TmFtZQogICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIGF0dHJpYnV0ZSBuYW1lIHRoYXQgaXMgdXNl\
ZCBhcyB0aGUgcHJpbWFyeSBrZXkgZm9yIHRoaXMgdGFibGUuIFByaW1hcnkga2V5IGVsZW1lbnQg\
bmFtZXMgY2FuIGJlIDEg4oCTIDI1NSBjaGFyYWN0ZXJzIGxvbmcgYW5kIGhhdmUgbm8gY2hhcmFj\
dGVyIHJlc3RyaWN0aW9ucy4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogSGFz\
aEF0dHJpYnV0ZVR5cGUKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBIYXNo\
IEF0dHJpYnV0ZSBUeXBlCiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgZGF0YSB0eXBlIGZvciB0\
aGUgYXR0cmlidXRlLiBZb3UgY2FuIHNwZWNpZnkgUyBmb3Igc3RyaW5nIGRhdGEsIE4gZm9yIG51\
bWVyaWMgZGF0YSwgb3IgQiBmb3IgYmluYXJ5IGRhdGEuJwogICAgICAgIGVudW06IFsiUyIsICJO\
IiwgIkIiXQogICAgICAgIHR5cGU6IGVudW0KICAgICAgICBkZWZhdWx0OiAiUyIKICAgICAgLSBu\
YW1lOiBSYW5nZUF0dHJpYnV0ZU5hbWUKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRp\
dGxlOiBSYW5nZSBBdHRyaWJ1dGUgTmFtZQogICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIGF0dHJp\
YnV0ZSBuYW1lIHRoYXQgaXMgdXNlZCBhcyB0aGUgc29ydCBrZXkgZm9yIHRoaXMgdGFibGUuIFNv\
cnQga2V5IGVsZW1lbnQgbmFtZXMgY2FuIGJlIDEg4oCTIDI1NSBjaGFyYWN0ZXJzIGxvbmcgYW5k\
IGhhdmUgbm8gY2hhcmFjdGVyIHJlc3RyaWN0aW9ucy4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAg\
ICAgIC0gbmFtZTogUmFuZ2VBdHRyaWJ1dGVUeXBlCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAg\
ICAgICB0aXRsZTogUmFuZ2UgQXR0cmlidXRlIFR5cGUKICAgICAgICBkZXNjcmlwdGlvbjogJ1Ro\
ZSBkYXRhIHR5cGUgZm9yIHRoZSBhdHRyaWJ1dGUuIFlvdSBjYW4gc3BlY2lmeSBTIGZvciBzdHJp\
bmcgZGF0YSwgTiBmb3IgbnVtZXJpYyBkYXRhLCBvciBCIGZvciBiaW5hcnkgZGF0YS4nCiAgICAg\
ICAgZW51bTogWyJTIiwgIk4iLCAiQiJdCiAgICAgICAgdHlwZTogZW51bQogICAgICAgIGRlZmF1\
bHQ6ICJTIgogICAgICAtIG5hbWU6IFJlYWRDYXBhY2l0eVVuaXRzCiAgICAgICAgcmVxdWlyZWQ6\
IHRydWUKICAgICAgICB0aXRsZTogUmVhZCBDYXBhY2l0eSBVbml0cwogICAgICAgIGRlc2NyaXB0\
aW9uOiAnU2V0cyB0aGUgZGVzaXJlZCBtaW5pbXVtIG51bWJlciBvZiBjb25zaXN0ZW50IHJlYWRz\
IG9mIGl0ZW1zICh1cCB0byAxS0IgaW4gc2l6ZSkgcGVyIHNlY29uZCBmb3IgdGhlIHNwZWNpZmll\
ZCB0YWJsZSBiZWZvcmUgQW1hem9uIER5bmFtb0RCIGJhbGFuY2VzIHRoZSBsb2FkLicKICAgICAg\
ICB0eXBlOiBpbnQKICAgICAgICBkZWZhdWx0OiA1CiAgICAgIC0gbmFtZTogV3JpdGVDYXBhY2l0\
eVVuaXRzCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogV3JpdGUgQ2FwYWNp\
dHkgVW5pdHMKICAgICAgICBkZXNjcmlwdGlvbjogJ1NldHMgdGhlIGRlc2lyZWQgbWluaW11bSBu\
dW1iZXIgb2YgY29uc2lzdGVudCB3cml0ZXMgb2YgaXRlbXMgKHVwIHRvIDFLQiBpbiBzaXplKSBw\
ZXIgc2Vjb25kIGZvciB0aGUgc3BlY2lmaWVkIHRhYmxlIGJlZm9yZSBBbWF6b24gRHluYW1vREIg\
YmFsYW5jZXMgdGhlIGxvYWQuJwogICAgICAgIHR5cGU6IGludAogICAgICAgIGRlZmF1bHQ6IDUK\
ICAgIG1ldGFkYXRhOgogICAgICBkaXNwbGF5TmFtZTogIkFtYXpvbiBkeW5hbW9kYiIKICAgICAg\
bG9uZ0Rlc2NyaXB0aW9uOiAiQW1hem9uIER5bmFtb0RCIGlzIGEgZnVsbHkgbWFuYWdlZCBOb1NR\
TCBkYXRhYmFzZSBzZXJ2aWNlIHRoYXQgcHJvdmlkZXMgZmFzdCBhbmQgcHJlZGljdGFibGUgcGVy\
Zm9ybWFuY2Ugd2l0aCBzZWFtbGVzcyBzY2FsYWJpbGl0eS4gWW91IGNhbiB1c2UgQW1hem9uIER5\
bmFtb0RCIHRvIGNyZWF0ZSBhIGRhdGFiYXNlIHRhYmxlIHRoYXQgY2FuIHN0b3JlIGFuZCByZXRy\
aWV2ZSBhbnkgYW1vdW50IG9mIGRhdGEsIGFuZCBzZXJ2ZSBhbnkgbGV2ZWwgb2YgcmVxdWVzdCB0\
cmFmZmljLiBBbWF6b24gRHluYW1vREIgYXV0b21hdGljYWxseSBzcHJlYWRzIHRoZSBkYXRhIGFu\
ZCB0cmFmZmljIGZvciB0aGUgdGFibGUgb3ZlciBhIHN1ZmZpY2llbnQgbnVtYmVyIG9mIHNlcnZl\
cnMgdG8gaGFuZGxlIHRoZSByZXF1ZXN0IGNhcGFjaXR5IHNwZWNpZmllZCBieSB0aGUgY3VzdG9t\
ZXIgYW5kIHRoZSBhbW91bnQgb2YgZGF0YSBzdG9yZWQsIHdoaWxlIG1haW50YWluaW5nIGNvbnNp\
c3RlbnQgYW5kIGZhc3QgcGVyZm9ybWFuY2UuIgogICAgICBjb3N0OiAkMC4wMAo="


USER apb
